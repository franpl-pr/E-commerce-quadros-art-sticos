{"ast":null,"code":"module.exports = ErrorPacket;\nfunction ErrorPacket(options) {\n  options = options || {};\n  this.fieldCount = options.fieldCount;\n  this.errno = options.errno;\n  this.sqlStateMarker = options.sqlStateMarker;\n  this.sqlState = options.sqlState;\n  this.message = options.message;\n}\nErrorPacket.prototype.parse = function (parser) {\n  this.fieldCount = parser.parseUnsignedNumber(1);\n  this.errno = parser.parseUnsignedNumber(2);\n\n  // sqlStateMarker ('#' = 0x23) indicates error packet format\n  if (parser.peak() === 0x23) {\n    this.sqlStateMarker = parser.parseString(1);\n    this.sqlState = parser.parseString(5);\n  }\n  this.message = parser.parsePacketTerminatedString();\n};\nErrorPacket.prototype.write = function (writer) {\n  writer.writeUnsignedNumber(1, 0xff);\n  writer.writeUnsignedNumber(2, this.errno);\n  if (this.sqlStateMarker) {\n    writer.writeString(this.sqlStateMarker);\n    writer.writeString(this.sqlState);\n  }\n  writer.writeString(this.message);\n};","map":{"version":3,"names":["module","exports","ErrorPacket","options","fieldCount","errno","sqlStateMarker","sqlState","message","prototype","parse","parser","parseUnsignedNumber","peak","parseString","parsePacketTerminatedString","write","writer","writeUnsignedNumber","writeString"],"sources":["C:/Programas/quadrartes/node_modules/mysql/lib/protocol/packets/ErrorPacket.js"],"sourcesContent":["module.exports = ErrorPacket;\nfunction ErrorPacket(options) {\n  options = options || {};\n\n  this.fieldCount     = options.fieldCount;\n  this.errno          = options.errno;\n  this.sqlStateMarker = options.sqlStateMarker;\n  this.sqlState       = options.sqlState;\n  this.message        = options.message;\n}\n\nErrorPacket.prototype.parse = function(parser) {\n  this.fieldCount = parser.parseUnsignedNumber(1);\n  this.errno      = parser.parseUnsignedNumber(2);\n\n  // sqlStateMarker ('#' = 0x23) indicates error packet format\n  if (parser.peak() === 0x23) {\n    this.sqlStateMarker = parser.parseString(1);\n    this.sqlState       = parser.parseString(5);\n  }\n\n  this.message = parser.parsePacketTerminatedString();\n};\n\nErrorPacket.prototype.write = function(writer) {\n  writer.writeUnsignedNumber(1, 0xff);\n  writer.writeUnsignedNumber(2, this.errno);\n\n  if (this.sqlStateMarker) {\n    writer.writeString(this.sqlStateMarker);\n    writer.writeString(this.sqlState);\n  }\n\n  writer.writeString(this.message);\n};\n"],"mappings":"AAAAA,MAAM,CAACC,OAAO,GAAGC,WAAW;AAC5B,SAASA,WAAWA,CAACC,OAAO,EAAE;EAC5BA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;EAEvB,IAAI,CAACC,UAAU,GAAOD,OAAO,CAACC,UAAU;EACxC,IAAI,CAACC,KAAK,GAAYF,OAAO,CAACE,KAAK;EACnC,IAAI,CAACC,cAAc,GAAGH,OAAO,CAACG,cAAc;EAC5C,IAAI,CAACC,QAAQ,GAASJ,OAAO,CAACI,QAAQ;EACtC,IAAI,CAACC,OAAO,GAAUL,OAAO,CAACK,OAAO;AACvC;AAEAN,WAAW,CAACO,SAAS,CAACC,KAAK,GAAG,UAASC,MAAM,EAAE;EAC7C,IAAI,CAACP,UAAU,GAAGO,MAAM,CAACC,mBAAmB,CAAC,CAAC,CAAC;EAC/C,IAAI,CAACP,KAAK,GAAQM,MAAM,CAACC,mBAAmB,CAAC,CAAC,CAAC;;EAE/C;EACA,IAAID,MAAM,CAACE,IAAI,CAAC,CAAC,KAAK,IAAI,EAAE;IAC1B,IAAI,CAACP,cAAc,GAAGK,MAAM,CAACG,WAAW,CAAC,CAAC,CAAC;IAC3C,IAAI,CAACP,QAAQ,GAASI,MAAM,CAACG,WAAW,CAAC,CAAC,CAAC;EAC7C;EAEA,IAAI,CAACN,OAAO,GAAGG,MAAM,CAACI,2BAA2B,CAAC,CAAC;AACrD,CAAC;AAEDb,WAAW,CAACO,SAAS,CAACO,KAAK,GAAG,UAASC,MAAM,EAAE;EAC7CA,MAAM,CAACC,mBAAmB,CAAC,CAAC,EAAE,IAAI,CAAC;EACnCD,MAAM,CAACC,mBAAmB,CAAC,CAAC,EAAE,IAAI,CAACb,KAAK,CAAC;EAEzC,IAAI,IAAI,CAACC,cAAc,EAAE;IACvBW,MAAM,CAACE,WAAW,CAAC,IAAI,CAACb,cAAc,CAAC;IACvCW,MAAM,CAACE,WAAW,CAAC,IAAI,CAACZ,QAAQ,CAAC;EACnC;EAEAU,MAAM,CAACE,WAAW,CAAC,IAAI,CAACX,OAAO,CAAC;AAClC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}