{"ast":null,"code":"var Buffer = require('safe-buffer').Buffer;\nmodule.exports = ClientAuthenticationPacket;\nfunction ClientAuthenticationPacket(options) {\n  options = options || {};\n  this.clientFlags = options.clientFlags;\n  this.maxPacketSize = options.maxPacketSize;\n  this.charsetNumber = options.charsetNumber;\n  this.filler = undefined;\n  this.user = options.user;\n  this.scrambleBuff = options.scrambleBuff;\n  this.database = options.database;\n  this.protocol41 = options.protocol41;\n}\nClientAuthenticationPacket.prototype.parse = function (parser) {\n  if (this.protocol41) {\n    this.clientFlags = parser.parseUnsignedNumber(4);\n    this.maxPacketSize = parser.parseUnsignedNumber(4);\n    this.charsetNumber = parser.parseUnsignedNumber(1);\n    this.filler = parser.parseFiller(23);\n    this.user = parser.parseNullTerminatedString();\n    this.scrambleBuff = parser.parseLengthCodedBuffer();\n    this.database = parser.parseNullTerminatedString();\n  } else {\n    this.clientFlags = parser.parseUnsignedNumber(2);\n    this.maxPacketSize = parser.parseUnsignedNumber(3);\n    this.user = parser.parseNullTerminatedString();\n    this.scrambleBuff = parser.parseBuffer(8);\n    this.database = parser.parseLengthCodedBuffer();\n  }\n};\nClientAuthenticationPacket.prototype.write = function (writer) {\n  if (this.protocol41) {\n    writer.writeUnsignedNumber(4, this.clientFlags);\n    writer.writeUnsignedNumber(4, this.maxPacketSize);\n    writer.writeUnsignedNumber(1, this.charsetNumber);\n    writer.writeFiller(23);\n    writer.writeNullTerminatedString(this.user);\n    writer.writeLengthCodedBuffer(this.scrambleBuff);\n    writer.writeNullTerminatedString(this.database);\n  } else {\n    writer.writeUnsignedNumber(2, this.clientFlags);\n    writer.writeUnsignedNumber(3, this.maxPacketSize);\n    writer.writeNullTerminatedString(this.user);\n    writer.writeBuffer(this.scrambleBuff);\n    if (this.database && this.database.length) {\n      writer.writeFiller(1);\n      writer.writeBuffer(Buffer.from(this.database));\n    }\n  }\n};","map":{"version":3,"names":["Buffer","require","module","exports","ClientAuthenticationPacket","options","clientFlags","maxPacketSize","charsetNumber","filler","undefined","user","scrambleBuff","database","protocol41","prototype","parse","parser","parseUnsignedNumber","parseFiller","parseNullTerminatedString","parseLengthCodedBuffer","parseBuffer","write","writer","writeUnsignedNumber","writeFiller","writeNullTerminatedString","writeLengthCodedBuffer","writeBuffer","length","from"],"sources":["C:/Programas/quadrartes/node_modules/mysql/lib/protocol/packets/ClientAuthenticationPacket.js"],"sourcesContent":["var Buffer = require('safe-buffer').Buffer;\n\nmodule.exports = ClientAuthenticationPacket;\nfunction ClientAuthenticationPacket(options) {\n  options = options || {};\n\n  this.clientFlags   = options.clientFlags;\n  this.maxPacketSize = options.maxPacketSize;\n  this.charsetNumber = options.charsetNumber;\n  this.filler        = undefined;\n  this.user          = options.user;\n  this.scrambleBuff  = options.scrambleBuff;\n  this.database      = options.database;\n  this.protocol41    = options.protocol41;\n}\n\nClientAuthenticationPacket.prototype.parse = function(parser) {\n  if (this.protocol41) {\n    this.clientFlags   = parser.parseUnsignedNumber(4);\n    this.maxPacketSize = parser.parseUnsignedNumber(4);\n    this.charsetNumber = parser.parseUnsignedNumber(1);\n    this.filler        = parser.parseFiller(23);\n    this.user          = parser.parseNullTerminatedString();\n    this.scrambleBuff  = parser.parseLengthCodedBuffer();\n    this.database      = parser.parseNullTerminatedString();\n  } else {\n    this.clientFlags   = parser.parseUnsignedNumber(2);\n    this.maxPacketSize = parser.parseUnsignedNumber(3);\n    this.user          = parser.parseNullTerminatedString();\n    this.scrambleBuff  = parser.parseBuffer(8);\n    this.database      = parser.parseLengthCodedBuffer();\n  }\n};\n\nClientAuthenticationPacket.prototype.write = function(writer) {\n  if (this.protocol41) {\n    writer.writeUnsignedNumber(4, this.clientFlags);\n    writer.writeUnsignedNumber(4, this.maxPacketSize);\n    writer.writeUnsignedNumber(1, this.charsetNumber);\n    writer.writeFiller(23);\n    writer.writeNullTerminatedString(this.user);\n    writer.writeLengthCodedBuffer(this.scrambleBuff);\n    writer.writeNullTerminatedString(this.database);\n  } else {\n    writer.writeUnsignedNumber(2, this.clientFlags);\n    writer.writeUnsignedNumber(3, this.maxPacketSize);\n    writer.writeNullTerminatedString(this.user);\n    writer.writeBuffer(this.scrambleBuff);\n    if (this.database && this.database.length) {\n      writer.writeFiller(1);\n      writer.writeBuffer(Buffer.from(this.database));\n    }\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}